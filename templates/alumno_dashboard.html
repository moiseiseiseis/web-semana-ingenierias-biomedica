{% extends "base.html" %}
{% block title %}Mi Panel (Alumno){% endblock %}
{% block content %}

<h1 class="text-2xl font-semibold mb-6 text-gray-800">Mis Equipos y Calificaciones</h1>

<div class="space-y-5">
  {% if equipos %}
    {% for e in equipos %}
      <div class="rounded-xl border border-gray-200 shadow-soft bg-white/95 backdrop-blur-sm p-5 hover:shadow-glow transition">
        <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
          <div>
            <h2 class="text-lg font-semibold text-gray-900">
              {{ e.nombre or "Equipo sin nombre" }}
            </h2>
            <div class="text-sm text-gray-600 mt-0.5">
              <span class="font-medium text-brand-700">{{ e.clave }}</span> ·
              <span>Grado {{ e.grado }}</span> ·
              <span>{{ e.tipo }}</span>
            </div>
          </div>

          <div class="flex flex-col items-start md:items-end gap-1">
            <span class="px-2 py-0.5 rounded-full text-xs font-medium
                         {% if e.estado == 'Pendiente' %}
                           bg-amber-100 text-amber-800
                         {% elif e.estado == 'Aprobado' %}
                           bg-emerald-100 text-emerald-800
                         {% else %}
                           bg-gray-100 text-gray-700
                         {% endif %}">
              {{ e.estado }}
            </span>

            {% if e.promedio is not none %}
              <span class="text-sm text-gray-800">
                <strong>Promedio:</strong> {{ e.promedio }}
              </span>
            {% else %}
              <span class="text-sm text-gray-500 italic">Sin evaluaciones</span>
            {% endif %}
          </div>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <div class="card border-l-4 border-brand-500 bg-white shadow-soft">
      <div class="card-pad text-gray-600 italic">
        No tienes equipos vinculados aún.
      </div>
    </div>
  {% endif %}
</div>

{% endblock %}
