<!doctype html>
<html lang="es" class="h-full">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>{% block title %}Semana de Ingenierías{% endblock %}</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
  tailwind.config = {
    theme: {
      extend: {
        colors: {
          brand: {
            50: '#f1f8ff',
            100: '#dbeafe',
            200: '#bfdbfe',
            300: '#93c5fd',
            400: '#60a5fa',
            500: '#1E88E5',
            600: '#1C77D2',
            700: '#155EA7',
            800: '#0F4783',
            900: '#0A3361',
          },
          accent: {
            green: '#43A047',
            gold: '#D4AF37',
            pink: '#E57373',
            steel: '#94A3B8',
          }
        },
        boxShadow: {
          soft: '0 2px 10px rgba(15,23,42,.08)',
          glow: '0 0 20px rgba(30,136,229,.30)',
        },
        fontFamily: { sans: ['Inter','ui-sans-serif','system-ui'] }
      }
    }
  }
  </script>

  <!-- Fuente -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- === ESTILOS GLOBALES === -->
  <style>
  html, body {
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    background-color: #f9fafb;
  }

  /* Etiquetas */
  .field-label {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }

  /* === INPUTS DORADOS === */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  textarea,
  select,
  .field-input {
    @apply w-full rounded-lg px-3 py-2 text-sm text-gray-900 transition;
    background-color: #fdf8e3;             /* ✨ dorado claro */
    border: 1px solid #e6d49a;             /* borde cálido */
  }

  input:focus,
  textarea:focus,
  select:focus,
  .field-input:focus {
    border-color: #D4AF37;                 /* dorado intenso */
    box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.4); /* halo suave */
    outline: none;
    background-color: #fffce8;             /* más brillante al enfocar */
  }

  ::placeholder {
    color: #b4a361;                        /* gris-dorado tenue */
  }

  /* Selects coherentes */
  select {
    @apply appearance-none bg-[url('data:image/svg+xml;utf8,<svg fill="gray" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>')] bg-no-repeat bg-[right_0.75rem_center] pr-8;
  }

  /* Botones */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition shadow-soft;
  }
  .btn-primary {
    @apply bg-brand-600 text-white hover:bg-brand-700 focus:ring-2 focus:ring-brand-400;
  }
  .btn-secondary {
    @apply bg-accent-green text-white hover:bg-accent-green/90;
  }
  .btn-ghost {
    @apply bg-white text-gray-700 border border-gray-300 hover:bg-gray-50;
  }

  /* Cards */
  .card { @apply bg-white rounded-xl shadow-soft border border-gray-100; }
  .card-pad { @apply p-4 md:p-6; }

  /* Pills */
  .pill { @apply inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium; }
  .pill-green { @apply bg-green-100 text-green-800; }
  .pill-amber { @apply bg-amber-100 text-amber-800; }

  /* Enlaces */
  .link { @apply text-brand-700 hover:text-brand-800 hover:underline; }

  /* Tablas */
  .table { @apply min-w-full text-sm; }
  .thead { @apply bg-gray-50 text-left text-xs font-semibold text-gray-600 uppercase tracking-wide; }
  .th, .td { @apply px-3 py-2; }
  .row { @apply border-t border-gray-200; }

  /* Formularios: márgenes y estructura */
  form { @apply space-y-4; }
  form .grid { @apply gap-4; }

  /* Radio y checkbox */
  input[type="radio"], input[type="checkbox"] {
    @apply h-4 w-4 text-brand-600 focus:ring-brand-500 border-gray-300;
  }
  label.inline-flex { @apply items-center gap-2 cursor-pointer; }
  </style>
</head>

<body class="h-full text-gray-900">
  <!-- Header -->
  <header class="relative border-b-4 border-accent-gold/60 bg-white/90 backdrop-blur">
    <div class="pointer-events-none absolute inset-0 opacity-5 bg-[url('/static/img/logo_solo.png')] bg-[length:180px] bg-right bg-no-repeat"></div>
    <div class="relative mx-auto max-w-6xl px-4">
      <div class="flex flex-wrap items-center justify-between py-3">
        <!-- Marca -->
        <a href="{{ url_for('main.home') }}" class="group flex items-center gap-3">
          <span class="relative">
            <img src="{{ url_for('static', filename='img/logo_solo.png') }}" alt="Logo Semana de Ingenierías" class="h-10 w-auto object-contain">
            <span class="absolute -inset-1 rounded-full ring-2 ring-accent-gold/30 group-hover:ring-accent-gold/60 transition"></span>
          </span>
          <span class="font-semibold text-lg text-brand-800 group-hover:text-brand-700 transition">
            Semana de Ingenierías
          </span>
        </a>

        <!-- Navegación -->
        <nav class="flex flex-wrap items-center gap-2 md:gap-3 text-sm mt-2 md:mt-0">
          <a href="{{ url_for('registro_wizard.registro') }}"
             class="inline-flex items-center gap-2 rounded-full bg-brand-600 text-white px-4 py-2 hover:shadow-glow hover:bg-brand-700 transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 opacity-90" viewBox="0 0 24 24" fill="currentColor"><path d="M12 5v14m-7-7h14"/></svg>
            Registro
          </a>

          {% if current_user.is_authenticated %}
            {% if current_user.role == 'alumno' %}
              <a class="px-3 py-2 rounded-lg text-brand-800 hover:bg-brand-50" href="{{ url_for('alumnos.dashboard') }}">Mi Panel</a>
            {% elif current_user.role == 'academico' %}
              <a class="px-3 py-2 rounded-lg text-brand-800 hover:bg-brand-50" href="{{ url_for('academicos.dashboard') }}">Panel Académico</a>
            {% elif current_user.role == 'admin' %}
              <a class="px-3 py-2 rounded-lg text-brand-800 hover:bg-brand-50" href="{{ url_for('admin.dashboard') }}">Admin</a>
            {% endif %}
            <a class="px-3 py-2 rounded-lg text-rose-700 hover:bg-rose-50" href="{{ url_for('auth.logout') }}">Salir</a>
          {% else %}
            <a class="px-3 py-2 rounded-lg text-brand-800 hover:bg-brand-50" href="{{ url_for('auth.login_general') }}">Login</a>
          {% endif %}
        </nav>
      </div>
    </div>
  </header>

  <!-- Flash messages -->
  <div class="mx-auto max-w-6xl px-4 mt-4 space-y-2">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, msg in messages %}
          <div class="card overflow-hidden">
            <div class="h-1 {% if category=='success' %}bg-accent-green{% else %}bg-accent-pink{% endif %}"></div>
            <div class="card-pad text-sm {% if category=='success' %}text-emerald-800{% else %}text-rose-800{% endif %}">
              {{ msg }}
            </div>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}
  </div>

  <!-- Main -->
  <main class="mx-auto max-w-6xl px-4 py-6">
    {% block content %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer class="mt-10">
    <div class="h-1 bg-accent-gold"></div>
    <div class="bg-brand-900 text-gray-200">
      <div class="mx-auto max-w-6xl px-4 py-6 text-xs flex items-center justify-between">
        <span>© {{ 2025 }} Semana de Ingenierías</span>
        <span class="text-accent-gold">Ingeniería Biomédica</span>
      </div>
    </div>
  </footer>
</body>
</html>
